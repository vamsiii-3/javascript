<!DOCTYPE html>
<html>
<head>
<title>
</title>
<style>
</style>
</head>
<body>

  <p>Rock Paper Scissors</p>
  <button onclick="playGame('rock');">Rock</button>
  <button onclick="playGame('paper');">Paper</button>
  <button onclick="playGame('scissors');">Scissors</button>
  <button onclick="
    score.wins=0;
    score.losses=0;
    score.ties=0;
    //localStorage.removeItem('score');
    ">
    Reset</button>
<script>
                
  let score=JSON.parse(localStorage.getItem('score'))||
  {wins:0,
    losses:0,
    ties:0};
  /*
  if(!score){
    score={wins:0,
    losses:0,
    ties:0}
  } 
 */
  function playGame(playerMove){
    const computer_move=computerMove();
    let result='';
    if(playerMove==='scissors'){
      if(computer_move==='scissors'){
        result='TIE!';
      }
      else if(computer_move==='rock'){
        result='you lost!';
      }
      else if(computer_move==='paper'){
        result='you won!';  
      }
    }
    else if(playerMove==='paper'){
      if(computer_move==='paper'){
        result='TIE!';
      }
      else if(computer_move==='scissors'){
        result='you lost!';
      }
      else if(computer_move==='rock'){
        result='you won!';
      }
    }
    else if(playerMove==='rock'){
      if(computer_move==='rock'){
        result='TIE!';
      }
      else if(computer_move==='paper'){
        result='you lost!';
      }
      else if(computer_move==='scissors'){
        result='you won!';
      }
    }
    if(result==='you won!'){
      score.wins++;
    }
    else if(result==='you lost!'){
      score.losses++;
    }
    else if(result==='TIE!'){
      score.ties++;
    }

  localStorage.setItem('score',JSON.stringify(score));

  alert(`you picked ${playerMove},computer has chosen ${computer_move},so result is ${result}
wins-${score.wins} losses-${score.losses} ties-${score.ties}`);
  }


  function computerMove(){
    const random_number=Math.random();
    if(random_number>=0&&random_number<1/3){
      computer_move='rock';
    }
    else if(random_number>=1/3&&random_number<2/3){
      computer_move='paper'
    }
    else if(random_number>= 2/3&&random_number<1){
      computer_move='scissors';
    }
      return computer_move;
    }
     
</script>
</body>
</html>